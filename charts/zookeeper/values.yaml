# Default values for zookeeper.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 3

image:
  repository: radiantone/zookeeper
  pullPolicy: Always
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

initContainers:
  name: aws-cp
  image: mctbhavin/isrmiamvds-tool:test
  tag: ""
#  imagePullSecrets:
#    - name: regcred
imagePullSecrets: []

nameOverride: ""
fullnameOverride: ""

zk:
  clientPort: 2181
  ensemblePort: 2888
  leaderRelectionPort: 3888
  adminPort: 8080
  updateStrategy: OnDelete
  rollingUpdatePartition: 0

serviceAccount:
  # Specifies whether a service account should be created
  create: false
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations:
  traffic.sidecar.istio.io/excludeOutboundPorts: 443,3888,2888
  traffic.sidecar.istio.io/excludeInboundPorts: 3888,2888
  proxy.istio.io/config: '{ "holdApplicationUntilProxyStarts": true }'

podSecurityContext: {}

securityContext:
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsGroup: 1000
  runAsUser: 1000
  allowPrivilegeEscalation: false

service:
  type: ClusterIP
  port: 8080

ingress:
  enabled: false
  annotations: {}
  hosts:
    - host: chart-example.local
      paths: []
  tls: []

resources:
  limits:
    cpu: 1
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 515Mi

nodeSelector: {}

tolerations: []

affinity: {}

persistence:
  enabled: true
  storageClass: "local-path"
  accessModes:
  - ReadWriteOnce
  size: 10Gi
  annotations: {}

metrics:
  enabled: true
  image: radiantone/zk-exporter
  imageTag: latest
  annotations: {}
  zk_conn: localhost:2181
  pushMode: true
  pushGateway: http://prometheus-pushgateway:9091
  fluentd:
    enabled: false
    configFile: /fluentd/etc/fluent.conf
    elasticSearchHost: elasticsearch-master
    elasticSearchType: elasticsearch
  livenessProbe:
    initialDelaySeconds: 30
    timeoutSeconds: 5
  readinessProbe:
    initialDelaySeconds: 180
    timeoutSeconds: 5

hooks:
  post_upgrade:
    enabled: false
